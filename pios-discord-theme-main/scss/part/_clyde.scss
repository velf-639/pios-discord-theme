@use "../top/vars" as *;
@use "../top/hsla";

// Messages from Clyde now appear as SYSTEM
.compact-2Nkcau.wrapper-30-Nkg.ephemeral-2nDdnn,
.cozyMessage-1DWF9U.wrapper-30-Nkg.ephemeral-2nDdnn,
.message-2CShn3.ephemeral-2nDdnn.selected-2LX7Jy,
.mouse-mode.full-motion .ephemeral-2nDdnn:hover {
    border-color: hsla.default($accent-hue, 0.7);
    background-color: transparent;
}

// No left bar
.ephemeral-2nDdnn:before {
    display: none;
}

// Change popout banner
.userPopout-2j1gM4[aria-label="Clyde"] .popoutBanner-3cqRD9 {
    background-color: $background-color !important;
}

// Change avatar
.ephemeral-2nDdnn .avatar-2e8lTP {
    filter: contrast(2) saturate(100) invert(1);
}

.full-motion .avatar-2e8lTP.clickable-31pE3P:hover {
    filter: hue-rotate(130deg) contrast(2) saturate(100);
}

// Change name
.ephemeral-2nDdnn .username-h_Y3Us {
    visibility: hidden;
    padding-right: 0.5rem;
}

.ephemeral-2nDdnn .username-h_Y3Us::after {
    visibility: visible;
    content: "SYSTEM";
    display: block;
    color: $clyde-color;
    position: absolute;
    top: -0.15rem;
    left: 0;
    background: linear-gradient(transparent, $background-color 40%, transparent 60%);
}

.ephemeral-2nDdnn .username-h_Y3Us:hover::after {
    text-decoration: underline;
}

// Totally not a bot
.ephemeral-2nDdnn .botTag-1NoD0B {
    display: none;
}

// Timestamp
.ephemeral-2nDdnn .timestamp-p1Df1m,
.ephemeral-2nDdnn .timestamp-p1Df1m.alt-1dvXnH {
    color: $clyde-color-dim;
}

// Content
.ephemeral-2nDdnn .markup-eYLPri {
    color: $clyde-color;
    text-shadow:
        2px 0 10px $clyde-color,
        -2px 0 10px $clyde-color;
    text-transform: uppercase;
}

// Dismiss message box
.ephemeralMessage-11q8XZ {
    color: $clyde-color-dim;
    font-size: 100%;
    text-transform: uppercase;
}

.compact-2Nkcau .ephemeralMessage-11q8XZ {
    position: absolute;
    right: 0;
    background: linear-gradient(transparent, $background-color 50%, transparent 70%);
    bottom: -1.1rem;
    display: flex;
    align-items: center;
    gap: 0.6rem;
}

.ephemeralMessage-11q8XZ .anchor-1MIwyf {
    color: $clyde-color;
}
